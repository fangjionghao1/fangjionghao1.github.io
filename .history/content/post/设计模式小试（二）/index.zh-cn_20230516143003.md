---
title: 设计模式小试（二）
description: 创建者模式+抽象工厂模式
date: 2023-02-13
slug: 设计模式
# image: Snipaste_2023-02-13_18-16-10.png
categories:
  - 设计模式
  - go
---

###问题背景
现有一个知识库，需要根据不同的创建类型 A,B,C，执行三种不同的初始化流程 processA,processB,processC。
流程中有相同的部分，也有各种类型定制的逻辑。
现在遇到两个问题

- 一种新的创建类型需要被支持
- 过去相同的流程中有不同的行为逻辑分支被隔离出来

传统的做法是在得到参数的时候根据三个分支进行相应的逻辑。
这么做的问题是当一种新类型被支持的时候需要重写相同的代码
遇到问题 2 的时候需要将分支的判断提前或者是从不同的地方重写

运用设计模式的
